---
title: "967. Numbers With Same Consecutive Differences"
categories:
- Leetcode
tags:
- Backtracking
- Breadth-First Search
date: 2022-09-03T19:10:20+08:00
draft: false
summary: 2022/09/03 leetcodeæ—¥å¸¸ (Midé›£åº¦)
thumbnailImage: leetcode/leetcode_icon.png
thumbnailImagePosition: right
---

{{< toc >}}

## é¡Œç›®æ•˜è¿°

### åŸæ–‡

> Return all **non-negative** integers of length `n` such that the absolute difference between every two consecutive digits is k. 
>
> Note that **every** number in the answer **must not** have leading zeros. For example, 01 has one leading zero and is invalid.
>
> You may return the answer in **any order**.

### Constrains

> `2 <= n <= 9`
>
> `0 <= k <= 9`

### è§£æ

å›å‚³ä¸€å€‹éè² æ•´æ•¸é™£åˆ—ï¼Œå…¶ä¸­æ¯å€‹æ•¸å­—ä½å…ƒé•·åº¦ç‚º`n`ï¼Œæ¯å€‹é€£çºŒä½å…ƒçš„å€¼ä¹‹é–“çš„çµ•å°å€¼å¿…é ˆç‚º`k`ï¼Œè©²é™£åˆ—ä¸­ä¸å…è¨±0é–‹é ­çš„æ•¸å­—ï¼Œä¸éé™£åˆ—ä¸­ä¸å¼·èª¿æ•¸å­—çš„é †åºã€‚

## ç¬¬ä¸€æƒ³æ³•

æˆ‘æ‡‰è©²æœƒæ¡ç”¨éè¿´æšèˆ‰çš„æ–¹å¼è’é›†æ‰€æœ‰æ•¸å­—ã€‚é¦–å…ˆæŒ‡å®šæœ€é«˜ä½å…ƒç‚º1~9 (å› ç‚ºä¸å…è¨±0é–‹é ­)ï¼Œéš¨å¾Œç¢ºèªä¸‹ä¸€å€‹ä½å…ƒç›¸å°æ–¼ç›®å‰ä½å…ƒçš„`Â±k`æ˜¯å¦ä»‹æ–¼0~9ä¹‹é–“ï¼Œå¦‚æœæ˜¯å°±å†å¾€ä¸‹éè¿´è™•ç†ã€‚{{< hl-text red >}}ä½†ç”±æ–¼kå¯èƒ½ç‚º0{{< /hl-text >}}ï¼Œæ‰€ä»¥åœ¨kç‚º0æ™‚ä¸èƒ½é‡è¤‡æŠŠ+0è·Ÿ-0éè¿´è™•ç†ï¼Œå¦å‰‡æœƒç™¼ç”Ÿé‡è¤‡å€¼è¢«æ”¾å…¥ã€‚

æ¦‚å¿µèˆ‡ **DFS** é›·åŒ

```go
func numsSameConsecDiff(n int, k int) []int {

    ans := make([]int, 0)

    var dfs func(nowDigitLevel int, n int, digitNumber int, k int, nowValue int)
    dfs = func(nowDigitLevel int, n int, digitNumber int, k int, nowValue int) {
        if 0 <= digitNumber && digitNumber < 10 {
            if nowDigitLevel < n-1 {
                if k == 0 {
                    dfs(nowDigitLevel+1, n, digitNumber, k, nowValue*10+digitNumber)
                } else {
                    dfs(nowDigitLevel+1, n, digitNumber+k, k, nowValue*10+digitNumber)
                    dfs(nowDigitLevel+1, n, digitNumber-k, k, nowValue*10+digitNumber)
                }
            } else {
                ans = append(ans, nowValue*10+digitNumber)
            }
        }
    }

    for i := 1; i < 10; i++ {
        dfs(0, n, i, k, 0)
    }

    return ans
}

```

> **Success**
>
> Runtime: 0 ms, faster than 100.00% of Go online submissions for Numbers With Same Consecutive Differences.
>
> Memory Usage: 2.7 MB, less than 41.67% of Go online submissions for Numbers With Same Consecutive Differences.

{{< alert success >}}
æ”¹ç”¨é–‰åŒ…å¾Œé€™æ¬¡å°±è·‘å¥½å¿«å–”ğŸ¤£
{{< /alert >}}

### è¨è«–

è§£æ³•æ‡‰è©²é€™æ¨£å°±å¥½äº†ï¼Œé›–ç„¶è¤‡é›œåº¦æ‡‰è©²æ˜¯`O(n^2)`ï¼Œä½†å› ç‚ºnåªæœ‰åˆ°9ï¼Œæ‰€ä»¥å…¶å¯¦é‚„ç®—å¯ä»¥

## å·çœ‹ä¸€ä¸‹ç¶²è·¯è§£ (70ms)

```go
func numsSameConsecDiff(n int, k int) []int {
    res := []int{}
    highest := int(math.Pow10(n))
    lowest := int(math.Pow10(n-1))

    var backtrack func(number int)
    backtrack = func(number int) {
        if lowest <= number && number < highest {
            res = append(res, number)
            return
        }
        last := number % 10
        lower := last - k 
        if lower >= 0 {
            backtrack(number * 10 + lower)
        }
        higher := last + k
        if higher <= 9 && higher != lower{
            backtrack(number * 10 + higher)
        }
    }

    for i:=1; i<=9; i++ {
        backtrack(i)
    }
    return res
}
```

æ¦‚å¿µä¸Šè·Ÿæˆ‘æ˜¯ä¸€æ¨£çš„ (æ¡DFS)ï¼Œä½†æ˜¯ä»–çš„æ¢ä»¶æ˜¯è—‰ç”±lowestèˆ‡highestä¾†ç¢ºèªå‰µé€ å‡ºä¾†çš„å€¼(number)å·²ç¶“é”åˆ°nä½å…ƒ (æŒ–é é€™æƒ³æ³•å¥½ç‹‚ğŸ¤£)ï¼ŒåŠ ä¸Šä»–æ¼”ç®—æ³•çš„é †åºåšäº†äº›å¾®èª¿ï¼Œå› æ­¤éè¿´å‡½æ•¸çš„åƒæ•¸ç›´æ¥å°‘äº†æˆ‘4å€‹ğŸ˜¨

{{< alert info >}}
åˆå­¸åˆ°ä¸€æ‰‹ğŸ¤£ğŸ¤£ğŸ¤£
{{< /alert >}}