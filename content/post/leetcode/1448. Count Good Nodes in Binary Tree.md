---
title: "1448. Count Good Nodes in Binary Tree"
categories:
- Leetcode
tags:
- Tree
- Depth-First Search
- Breadth-First Search
- Binary Tree
- Leetcode Complete
date: 2022-09-01T14:47:35+08:00
draft: false
summary: 2022/09/01 leetcodeæ—¥å¸¸ (Midé›£åº¦)
thumbnailImage: leetcode/leetcode_icon.png
thumbnailImagePosition: right
---

{{< toc >}}

## é¡Œç›®æ•˜è¿°

### åŸæ–‡

> Given a binary tree ```root```, a node X in the tree is named **good** if in the path from root to X there are no nodes with a value greater than X.
>
> Return the number of **good** nodes in the binary tree.
>
> **Constraints:**
>
> - The number of nodes in the binary tree is in the range [1, 10^5].
> - Each node's value is between [-10^4, 10^4].

### è§£æ

é€™é¡Œç°¡å–®ä¾†èªªå°±æ˜¯å¾```root```åˆ°*X*ç¯€é»çš„è·¯å¾‘ä¸­æ‰€æœ‰çš„ç¯€é»ï¼Œæ˜¯å¦å­˜åœ¨æ¯”*X*ç¯€é»ä¸­çš„å€¼é‚„è¦æ›´å¤§çš„å€¼ã€‚è‹¥ä¸å­˜åœ¨ï¼Œå‰‡*X*ç¯€é»å³ç‚º good nodeã€‚é¡Œç›®å‰‡å•è©²treeä¸­æœ‰å¤šå°‘å€‹good nodeï¼Ÿ

## ç¬¬ä¸€æƒ³æ³•

é€™é¡Œæˆ‘æ˜¯æ‰“ç®—ç”¨ **Depth-First Search (DFS)** ä¾†è§£ï¼Œåœ¨é€²è¡ŒDFSæ™‚å¸¶è‘—ç›®å‰èµ°è¨ªéçš„è·¯å¾‘ä¸­æœ€å¤§çš„å€¼(é€™è£¡å‡è¨­å«```max```)ï¼Œè‹¥æ–°çš„é»æ¯”è©²å€¼é‚„å¤§ï¼Œå‰‡æ­¤é»ç‚ºgood nodeï¼Œä¸¦ä¸”æ›´æ–°```max```å€¼ï¼Œæœ€å¾Œçµ±è¨ˆæœ‰å¹¾å€‹good nodeå³å¯ã€‚

```go
func dfs(node *TreeNode, maxValue int) int {
    if node == nil {
        return 0
    }

    if maxValue > node.Val {
        return dfs(node.Left, maxValue) + dfs(node.Right, maxValue)
    } else {
        return dfs(node.Left, node.Val) + dfs(node.Right, node.Val) + 1
    }
}

func goodNodes(root *TreeNode) int {
    return dfs(root, root.Val)
}
```

> **Success**
>
> Runtime: 195 ms, faster than 5.99% of Go online submissions for Count Good Nodes in Binary Tree.
>
> Memory Usage: 10.5 MB, less than 80.84% of Go online submissions for Count Good Nodes in Binary Tree.

{{< alert warning >}}
Runtime ç™¾åˆ†æ¯”åƒ…æœ‰ 5.99%
{{< /alert >}}

### è¨è«–

æ°´å•¦ï¼šé›£å¾—Midçš„é›£åº¦èƒ½å¤ ç«‹åˆ»å¯«å‡ºä¾†ï¼Œè€Œä¸”èªªä¸ä¸Šå¤ªé›£ã€‚

ä½†å¥‡æ€ªçš„æ˜¯ï¼Œé€Ÿåº¦éå¸¸ç³Ÿç³•ï¼Œå¯èƒ½æ˜¯å› ç‚ºä½¿ç”¨äº†éè¿´çš„é—œä¿‚ï¼Œå°è‡´Golangçš„æ•ˆèƒ½é™ä½ã€‚

## å·çœ‹ä¸€ä¸‹ç¶²è·¯è§£ (70ms)

```go
func goodNodes(root *TreeNode) int {
    return dfs(root, -11111)
}

func dfs (root *TreeNode, max int) int {
    if root == nil {
        return 0
    }
    res := dfs(root.Left, mx(max, root.Val)) + dfs(root.Right, mx(max, root.Val))
    if max <= root.Val {
        res ++
    }
    return res
}

func mx(a, b int) int {
    if a > b {
        return a
    }
    return b
}
```

ç—¾...é€™è·Ÿæˆ‘çš„è§£æ³•å…¶å¯¦è »åƒçš„...è€Œä¸”æˆ‘è‡ªå·±Copy Pasteå¾Œæˆ‘åè€Œè·‘äº†195ms...çœŸå¥‡æ€ª...

ç®—äº†ï¼Œç¢ºå®šæƒ³æ³•è·Ÿåˆ¥äººä¸€æ¨£å¾Œï¼Œæ‡¶å¾—æ€è€ƒäº†ğŸ¤£
